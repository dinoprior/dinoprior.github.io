<!doctype html>
<html lang="cs">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Portfolio Pavel Doubravský</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">

    
<style>


  
  @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap');
  
  
body, html {
  height: 100%;
  margin: 0;
  overflow:hidden;
 
}

:root {
  --bg-color: #fff;
  --text-color: #000;
  --blue:#0066FF;
}

h1 {
    font-family: "IBM Plex Mono", monospace;
    font-size: clamp(2rem, 4vw, 4rem);
    font-weight: normal;
  }

h2 {
    font-family: "IBM Plex Mono", monospace;
    font-size: clamp(1.5rem, 3vw, 3rem);
    font-weight: normal;
}

h3 {
    font-family: "IBM Plex Mono", monospace;
    font-size: clamp(1.15rem, 2vw, 2rem);
    font-weight: normal;
    margin-bottom: 2rem;
}

h4 {
    font-family: "IBM Plex Mono", monospace;
    font-size: clamp(1rem, 1.25vw, 1.75rem);
    font-weight: normal;
    margin-bottom: 1.25rem;
}

h5 {
    font-family: "IBM Plex Mono", monospace;
    font-size: clamp(1rem, 1.25vw, 1.75rem);
    font-weight: normal;
}

p {
     font-family: "IBM Plex Sans", sans-serif;
    font-size: 1rem;
    font-weight: normal;
}
  
     .contact-info {
  padding-top: 1.5rem;
       margin: 0rem 0rem 3.4rem 5rem;
      
    }
  
     .contact-info a {
      text-decoration: none;
    }
    .contact-info i {
      font-size: 1.3rem;
      margin-right: 0.5rem;
    }
    textarea.form-control {
      min-height: 40px !important;
      height: 40px;
    }

   .form-control {
    border-radius: 0;
    border: none;
     border-left: 1px solid ;
      border-bottom: 1px solid ;
    }

.form-control:focus {
  box-shadow: none;
}

  .nav {
  position: absolute;
  top: 50%;
    right: 1rem;
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
} 
   
 .nav-link {
    color: #000;
      font-family: "IBM Plex Mono", monospace;
    font-size: clamp(1rem, 1.5vw, 2.5rem);
    font-weight: normal;
}

.nav a {
  display: inline-block; 
  position: relative;
  
}

.nav a:hover {
    color: #000;
}

   .nav a::before {       
            opacity: 0;
            transition: opacity 0.4s ease, transform 0.4s ease;
            white-space: nowrap;
    
        }

     a:hover::before {
            opacity: 1;
              }

/* ikona se hezky transformuje */
.nav-link i {
  display: block;
  transition: transform .22s cubic-bezier(.2,.9,.3,1);
  transform-origin: center;
}

/* pseudo-element (nápis) — defaultně skrytý, umístěn vlevo od ikony */
 .nav-link::before {
  content: ""; /* content nastavíme níže podle třídy */
  position: absolute;
  right: calc(100% + 12px);     /* od ikonky vlevo o 12px */
  top: 50%;
  transform: translateX(-18px) translateY(-50%); /* startně víc vlevo */
  opacity: 0;
  white-space: nowrap;
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 1.2rem;
  background: rgba(0,0,0,0.78);
  color: #fff;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  transition: transform .26s cubic-bezier(.2,.9,.3,1), opacity .2s ease;
  pointer-events: none; /* aby tooltip neblokoval klik */
  z-index: 50;
}

/* při hoveru text přejede doprava k ikoně a zviditelní se; ikona se zvětší */
 .nav-link:hover::before {
  transform: translateX(0) translateY(-50%);
  opacity: 1;
}
 .nav-link:hover i,
 .nav-link:focus i {
  transform: scale(1.18);
}

/* texty podle třídy (nastavujeme obsah pseudo-elementu) */
.nav .home::before      { content: "Domů"; }
.nav .about::before     { content: "O mně"; }
.nav .projekty::before  { content: "Projekty"; }
.nav .blog::before      { content: "Blog"; }
.nav .kontakt::before   { content: "Kontakt"; }


  /* tlačítko vpravo nahoře */
.menu-toggle {
  position: fixed;
  top: 1rem;
  right: 1rem;
  z-index: 900;
  border: none;
  background: #fff;  
  font-size: 3rem;
  cursor: pointer;
  color: #000;
}

/* navigace */
nav {
  position: fixed;
  top: 0;
  right: -250px; /* schovaná vpravo */
  width: 220px;
  height: 100%;
 /* background: rgba(255,255,255,0.7); */
 background-color: #fff;
  transition: right 0.3s ease-in-out;
  z-index: 500;
  box-shadow: -6px -1px 21px -8px rgba(0,0,0,0.51);
-webkit-box-shadow: -6px -1px 21px -8px rgba(0,0,0,0.51);
-moz-box-shadow: -6px -1px 21px -8px rgba(0,0,0,0.51);
}

nav.open {
  right: 0; /* vyjede */
}

nav ul {
  list-style: none;
  padding: 0;
  margin: 0;
  text-align: right;
}

nav li {
  margin: 0.5rem 0;
}


/* projekty - draggable gallery */
.draggable-gallery {
  overflow-x: auto;
  cursor: grab;
  scroll-behavior: smooth;
  user-select: none;
}
.draggable-gallery img {
  transition: transform 0.3s;
}
.draggable-gallery img:hover {
  transform: scale(1.05);
}
.draggable-gallery.active {
  cursor: grabbing;
}

/* zvětšení obrázku při hoveru (projekty) */

.grow {
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
 
}

.grow:hover {
  transform: scale(1.1);
  transition: transform 0.3s cubic-bezier(0.65, 0.05, 0.36, 1);
}

.photoshop img {
  max-height: 200px; 
  height: auto;
  width: auto; 
  object-fit: contain; 
}

/* modal start */
.modal {
  display: none;
  position: fixed;
  z-index: 2000;
  padding-top: 5vh;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.9);
}
.modal-content {
  display: block;
  margin: auto;
 max-width: 90vw;
  max-height: 90vh;
  width: auto;
  height: auto;
  object-fit: contain; 
  background-color: rgba(0,0,0,0.0);
}

@keyframes zoom {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.close {
  position: absolute;
  top: 15px;
  right: 35px;
  color: #fff;
  font-size: 40px;
  cursor: pointer;
}

.close:hover {
  color: #bbb;
}

#caption {
  margin: 20px auto;
  text-align: center;
  color: #ccc;
  font-size: 1rem;
  max-width: 90%;
}
/* modal konec */

.line {
    border-top: 3px solid;
    width: 50px;
    margin-top: 40px;
    padding-bottom: 40px;
} 
  
.shadowbtn {
box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;

}

.shadowbtn:hover {
box-shadow: none;
}


.home-icon {
  position: absolute;
  bottom: 8%;  /* vzdálenost od spodního okraje */
  right: 5%;   /* vzdálenost od pravého okraje */
  color: #000;
  text-decoration: none;
  font-size: 1.5rem;
  z-index: 999;
}

.tech-icons { 
  margin-bottom: 3rem;
}


.tech-icons img {
  width: 45px;
}

.tech-item {
  border-radius: 8px;
  padding: 8px;
  background-color: #fff;
box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
  font-size: .9rem;
}


.hello {
    position: absolute;
    bottom: 8%;
    font-family: "IBM Plex Mono", monospace;
    font-size: clamp(3rem, 6vw, 8rem);  
    color: var(--blue);
    line-height: 125%;    
}

.blinking-cursor {
  font-size: clamp(3rem, 7vw, 10rem);  
 color: #000;
  -webkit-animation: 1s blink step-end infinite;
  -moz-animation: 1s blink step-end infinite;
  -ms-animation: 1s blink step-end infinite;
  -o-animation: 1s blink step-end infinite;
  animation: 1s blink step-end infinite;
}

@keyframes "blink" {
  from, to {
    color: transparent;
  }
  50% {
   color: #000;
  }
}

@-moz-keyframes blink {
  from, to {
    color: transparent;
  }
  50% {
   color: #000;
  }
}

@-webkit-keyframes "blink" {
  from, to {
    color: transparent;
  }
  50% {
 color: #000;
  }
}

@-ms-keyframes "blink" {
  from, to {
    color: transparent;
  }
  50% {
  color: #000;
  }
}

@-o-keyframes "blink" {
  from, to {
    color: transparent;
  }
  50% {
   color: #000;
  }
}
  

/* wrapper pro sekce */
.section-wrapper {
  position: relative;
  width: 100%;
  height: 100%; 
 
}

/* sekce absolutně */
section {
  position: absolute; top:0; left:0; width:100%; height:100%;
   box-sizing:border-box;
  transition: transform .6s ease-out;
  overflow: auto; 
 
 }
  
  /* všechny sekce výchozí stav – schované vpravo */
section {
  transform: translateX(100%);
}

/* první sekce výchozí viditelná */
section:first-of-type {
  transform: translateX(0);
  z-index: 1;
}

  .content {
   background-color: #fff;   
color: #000;

  }
  

    #one, #two, #three, #four, #five {
 padding: 4%;
 background-color: #fff;
box-shadow: -11px -1px 21px -8px rgba(0,0,0,0.51);
-webkit-box-shadow: -11px -1px 21px -8px rgba(0,0,0,0.51);
-moz-box-shadow: -11px -1px 21px -8px rgba(0,0,0,0.51);
  }
  
#one {
  background-image: url(images/back5.jpg);  
  background-repeat: no-repeat;
  background-size: cover ;
  background-position: top right;
  
 }
  
#two { 
  

  
  }
  
#three {
  
  
  }
  #four{
    
  
  }
  
    #five { 

      
  
  }
  
  
  @media (max-width: 575.98px) { 
    
.menu-toggle {
  position: fixed;
  top: 0rem;
  right: .5rem;

}

      .content {
   background-color: #fff;
    background-image:none;  
 
  }

  #one, #two, #three, #four, #five {
 padding: 1rem;
    background-color:#fff; 
  }
    
    
       .contact-info {
  padding-top: 1rem;
       margin: 0rem 0rem 3.4rem 0rem;

    }

    .photoshop img {
  max-height: 150px; 

}
  
  }
  
</style>
</head>
<body>
<div class="container-fluid section-wrapper">
  
  <button class="menu-toggle" id="menuToggle">
  <i class="bi bi-list"></i> <!-- hamburger -->
</button>
  
<nav id="mainNav">
  <ul class="nav flex-column">
    <li class="nav-item mb-5"><a href="#" class="nav-link home" id="home" aria-current="page"  data-target="one"> <i class="bi bi-house fs-1"></i></a></li> 
   
    <li class="nav-item"><a href="#"  class="nav-link about" id="about" aria-current="page" data-target="two">  <i class="bi bi-person fs-1"></i></a></li>
    
    <li class="nav-item"><a href="#" class="nav-link projekty" id="projekty" aria-current="page" data-target="three"><i class="bi bi-laptop fs-1"></i></a></li>
    
        <li class="nav-item d-none"><a href="#" class="nav-link blog" id="blog" aria-current="page" data-target="four">  <i class="bi bi-pen fs-1"></i></a></li>
    
    <li class="nav-item"><a href="#" class="nav-link kontakt" id="kontakt" aria-current="page" data-target="five"><i class="bi bi-envelope fs-1"></i></a></li>
    
  </ul>
  

</nav>


  <section id="one"> 
  
           <header>
      <h1>Pavel Doubravský</h1>
          
       <div class="line"></div>   
       
        <h2>Web design and development</h2>  
         </header>     
   
    <div class="hello">&#60;h1&#62;<span class="text-black">Hello, World!</span><span style="white-space: nowrap">&#60;/h1&#62;</span><span class="blinking-cursor">|</span></div>
    
  </section>
  

  <section id="two">
     
          <div class="content">

        <h2>O mně</h2>  
        <div class="line"></div>    
            
            <p>
            Více než 15 let zkušeností s HTML, CSS a Photoshopem při práci pro společnost Monster Worldwide na pozici HTML kodéra.<br>
              Jako samouk jsem postupně rozšířil své dovednosti např. o Bootstrap, JavaScript, React a další moderní technologie.<br>
              Zajímám se o vše kolem web designu, nových přístupů  a aktuálních trendů, rád si usnadním život použitím AI. </p>
 <p>U svých projektů dbám hlavně na responzivitu layoutu, optimalizaci pro mobilní zařízení.<br>
V rámci SEO se snažím o čistý, přehledný kód, o rychlé načítání. <br>
Aplikuji obecné UI/UX principy a zároveň i ty moderní, pokud to dává smysl. 
   </p>         
            

  <div class="line"></div>           
            
            <h4>Tady jsem doma!</h4>
            
<div class="tech-icons d-flex flex-wrap gap-4">
  <div class="tech-item text-center">
   
      <img src="https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000" alt="HTML" class="img-fluid">
   
    <div>HTML</div>
  </div>
  <div class="tech-item text-center">
   
      <img src="https://img.icons8.com/?size=100&id=21278&format=png&color=000000" alt="CSS" class="img-fluid" >
   
    <div>CSS</div>
  </div>
  <div class="tech-item text-center">
  
 <img src="https://img.icons8.com/?size=100&id=84710&format=png&color=000000" alt="Bootstrap" class="img-fluid" >

    <div>Bootstrap</div>
  </div>
  
    <div class="tech-item text-center">
   
      <img src="https://img.icons8.com/?size=100&id=13677&format=png&color=000000" alt="Photoshop" class="img-fluid" >
   
    <div>Photoshop</div>
  </div>
  <div class="tech-item text-center">
  
      <img src="https://img.icons8.com/?size=100&id=zfHRZ6i1Wg0U&format=png&color=000000" alt="Figma" class="img-fluid" >
  
    <div>Figma</div>
  </div>

    <div class="tech-item text-center">
  
      <img src="https://img.icons8.com/?size=100&id=63777&format=png&color=000000" alt="GitHub" class="img-fluid" >
  
    <div>GitHub</div>
  </div>
    </div>
            
            
    <h4>Rozumím kódu, umím začlenit script, případně ho upravit pro moje účely. </h4>         
            
  <div class="tech-icons d-flex flex-wrap gap-4">
  
  <div class="tech-item text-center">
  <img src="https://img.icons8.com/?size=100&id=108784&format=png&color=000000" alt="Javascript" class="img-fluid" >
  
    <div>JavaScript</div>
  </div>
  <div class="tech-item text-center d-none">
   
      <img src="https://img.icons8.com/?size=100&id=wPohyHO_qO1a&format=png&color=000000" alt="React" class="img-fluid" >
   
    <div>React</div>
  </div>
  <div class="tech-item text-center d-none">

      <img src="https://img.icons8.com/?size=100&id=9Um0Q4sZ0QCC&format=png&color=000000" alt="jQuery" class="img-fluid" >
   
    <div>jQuery</div>
  </div>
  <div class="tech-item text-center d-none">
    
      <img src="https://cdn-icons-png.flaticon.com/512/6422/6422229.png" alt="PHP" class="img-fluid" >
    
    <div>PHP</div>
  </div>
  <div class="tech-item text-center d-none">
   
      <img src="https://img.icons8.com/?size=100&id=UFXRpPFebwa2&format=png&color=000000" alt="MySQL" class="img-fluid" >
   
    <div>MySQL</div>
  </div>
  <div class="tech-item text-center d-none">
  
      <img src="https://img.icons8.com/?size=100&id=13441&format=png&color=000000" alt="Python" class="img-fluid" >
  
    <div>Python</div>
  </div>

  <div class="tech-item text-center">
   
      <img src="https://img.icons8.com/?size=100&id=v9uZbuVoWleB&format=png&color=000000" alt="WordPress" class="img-fluid" >
   
    <div>WordPress</div>
  </div>
      </div>
  
    
          <h4>Může se hodit...</h4>    
            <div class="tech-icons d-flex flex-wrap gap-4">
  <div class="tech-item text-center">
   
      <img src="https://img.icons8.com/?size=100&id=40604&format=png&color=000000" alt="DaVinci Resolve" class="img-fluid" >
 
    <div>DaVinci Resolve</div>
  </div>
</div>

    <p class="text-secondary small pt-5">Icons by <a href="https://icons8.com" target="_blank" class="text-secondary">icons8.com</a></p>      
   </div> 

  
  </section>
  
  
  <section id="three">
     <div class="content">
      
          <h2>Projekty</h2>  
        <div class="line"></div>    
            <h3>Weby</h3>
<div class="row mt-2 pb-4 mb-5 flex-nowrap draggable-gallery  overflow-hidden">

        <div class="col-sm-4 col-12 overflow-hidden">
                  
                  <a href="#"><img src="images/fitmania_web.jpg" class="img-fluid grow" alt="Fitmania web"></a>
   
   <div class="mt-4 d-flex justify-content-between"> <h5>Fitmania</h5> <div class="me-5"><a href="#">info →</a></div></div> 
    </div>
              <div class="col-sm-4 col-12 overflow-hidden">
            <a href="#"><img src="images/Apartman_web.jpg" class="img-fluid grow" alt="Apartmán web"></a>
    </a>

   <div class="mt-4 d-flex justify-content-between"> <h5>Apartmán</h5> <div class="me-5"><a href="#">info →</a></div>
    </div></div>

                  <div class="col-sm-4 col-12 overflow-hidden" >
                  
                  <a href="#"><img src="images/Arturia_web.jpg" class="img-fluid grow" alt="Arturia web"></a>
      <div class="mt-4 d-flex justify-content-between"> <h5>Arturia Microfreak</h5> <div class="me-5"><a href="#">info →</a></div>
    </div> </div>
              <div class="col-sm-4 col-12 overflow-hidden">
            <a href="#"><img src="images/cukrarna_web.jpg" class="img-fluid grow" alt="Cukrárna web"></a>
    </a>

    <div class="mt-4 d-flex justify-content-between"> <h5>Cukrárna</h5> <div class="me-5"><a href="#">info →</a></div>
    </div> </div>
     <div class="col-sm-4 col-12 overflow-hidden">
            <a href="#"><img src="images/Valeton_web.jpg" class="img-fluid grow" alt="Valeton web"></a>
    </a>
  <div class="mt-4 d-flex justify-content-between"> <h5>Valeton GP-5</h5> <div class="me-5"><a href="#">info →</a></div>
    </div>  </div> 
                        
         </div>
        
         <h3>Photoshop</h3>
<div class="row mt-2 pb-4 flex-nowrap draggable-gallery photoshop">

  <img src="images/amerfotbal.jpg" alt="Americký fotbal plakát" class="img-fluid grow me-4" title="Návrh sportovního plakátu, rozmazání běžce, nápis na postavě je průhledný">  
<img src="images/Samsung.jpg" alt="Samsung banner" class="img-fluid grow me-4" title="Návrh banneru pro Samsung">
  <img src="images/Sparta plakát.jpg" alt="Sparta plakát" class="img-fluid grow me-4" title="Návrh sportovního plakátu">  
 
    
      <img src="images/Brod.jpg" alt="Brod plakát" class="img-fluid grow me-4" title="Návrh plakátu pro hudební festival">
    <img src="images/Brod 2.jpg" alt="Brod plakát" class="img-fluid grow me-4" title="Návrh plakátu pro hudební festival">
     <img src="images/zed.jpg" alt="zed" class="img-fluid grow me-4" title="Umístění nápisu na zeď s komplikovanou strukturou">
     <img src="images/lion_woman.jpg" alt="lion_woman" class="img-fluid grow me-4" title="Kombinace dvou fotografií">
    <img src="images/triko_kfc.jpg" alt="kfc triko" class="img-fluid grow me-4" title="Umístění loga na triko s přizpůsobením perspektivy a textury">
     <img src="images/baletka.jpg" alt="Baletka" class="img-fluid grow me-4" title="Efekt rozmazání/rozpadání">  
     <img src="images/divka_za_sklem.jpg" alt="dívka za sklem" class="img-fluid grow" title="Umístění efetku skla na fotografii">
    
         </div>
        </div>   
        


  </section>
  
  
   <section id="four d-none">
     <div class="content">
      
          <h2>Blog</h2>  
        <div class="line"></div>    

                  
            
  </div>  
  </section> 
  
    
   <section id="five">
     <div class="content">
      
          <h2>Kontakt</h2>  
        <div class="line"></div>    
<h3>Pošlete mi zprávu</h3>
             <div class="row pt-3">        
 <div class="col-sm-6">
  <form id="contactForm" class="needs-validation" action="send.php" method="POST" novalidate>
    <div class="mb-3">
      <label for="inputEmail" class="form-label d-none">Váš e-mail</label>
      <input type="email" class="form-control border-bottom" id="inputEmail" name="email" placeholder="Váš e-mail" required>
      <div class="invalid-feedback">Prosím, zadejte platný e-mail.</div>
    </div>

    <div class="mt-5 mb-3">
      <label for="inputMessage" class="form-label d-none">Zpráva</label>
      <textarea class="form-control border-bottom" id="inputMessage" name="message" rows="4" placeholder="Vaše zpráva..." required></textarea>
      <div class="invalid-feedback">Zpráva nesmí být prázdná.</div>
    </div>

    <button class="btn btn-primary shadowbtn float-end" type="submit">Odeslat</button>
  </form>
  </div> <!-- contact-form -->
              
              
             <!-- Kontaktní info -->
        <div class="col-sm-4 mt-3 mt-sm-0 contact-info">
          <p class="border-bottom pb-3"><i class="bi bi-envelope-fill"></i><a href="mailto:xy@domena.cz">xy@domena.cz</a></p>
          <p class="border-bottom pb-3"><i class="bi bi-linkedin"></i><a href="https://www.linkedin.com/in/vasprofil" target="_blank">LinkedIn profil</a></p>
          <p><i class="bi bi-telephone-fill"></i>+420 123 456 789</p>
    
        </div>         
          
   </div>  <!-- contact wrapper -->       
             </div> 
  
  </section> 
  
  
  
</div> <!-- content - wrapper -->

<div id="imgModal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="modalImg">
  <div id="caption"></div>
</div>

<script>

const sections = document.querySelectorAll('section');
let current = sections[0]; // první sekce jako výchozí

// Nastavení počátečních pozic
sections.forEach(sec => {
  if (sec !== current) {
    sec.style.transform = 'translateX(100%)';
  } else {
    sec.style.transform = 'translateX(0)';
    sec.style.zIndex = 1;
  }
});

document.querySelectorAll('nav a').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const targetId = link.dataset.target;
    const next = document.getElementById(targetId);
    if (next === current) return;

    // ulož aktuální sekci do localStorage
    localStorage.setItem('lastSection', targetId);

    // posuň
    next.style.transform = 'translateX(100%)';
    next.style.zIndex = 2;
    void next.offsetWidth; // repaint
    next.style.transform = 'translateX(0)';

    next.addEventListener('transitionend', function handler() {
      current.style.transform = 'translateX(100%)';
      current.style.zIndex = 0;
      next.style.zIndex = 1;
      current = next;
      next.removeEventListener('transitionend', handler);
    });
  });
});

const menuToggle = document.getElementById("menuToggle");
const nav = document.getElementById("mainNav");
let isOpen = false;

function updateIcon() {
  menuToggle.innerHTML = isOpen
    ? '<i class="bi bi-x"></i>'     // křížek
    : '<i class="bi bi-list"></i>'; // hamburger
}

// otevření/zavření menu
menuToggle.addEventListener("click", (e) => {
  e.stopPropagation(); // zabrání zavření hned po otevření
  isOpen = !isOpen;
  nav.classList.toggle("open", isOpen);
  updateIcon();
});

// zavřít menu po kliknutí na odkaz
document.querySelectorAll("#mainNav a").forEach(link => {
  link.addEventListener("click", () => {
    isOpen = false;
    nav.classList.remove("open");
    updateIcon();
  });
});

// zavřít menu po kliknutí mimo navigaci
document.addEventListener("click", (e) => {
  if (isOpen && !nav.contains(e.target) && !menuToggle.contains(e.target)) {
    isOpen = false;
    nav.classList.remove("open");
    updateIcon();
  }
});

// Projekty - draggable gallery
document.addEventListener("DOMContentLoaded", () => {
  const galleries = document.querySelectorAll(".draggable-gallery");
  const modal = document.getElementById("imgModal");
  const modalImg = document.getElementById("modalImg");
  const caption = document.getElementById("caption");
  const closeBtn = document.querySelector(".close");

  let isDown = false;
  let startX;
  let scrollLeft;
  let moved = false;

  galleries.forEach(gallery => {
    // ---- DRAG SCROLL ----
    gallery.addEventListener("mousedown", (e) => {
      isDown = true;
      moved = false;
      gallery.classList.add("active");
      startX = e.pageX - gallery.offsetLeft;
      scrollLeft = gallery.scrollLeft;
      e.preventDefault(); // zabrání výběru obrázků
    });

    gallery.addEventListener("mouseleave", () => {
      isDown = false;
      gallery.classList.remove("active");
    });

    gallery.addEventListener("mouseup", () => {
      isDown = false;
      gallery.classList.remove("active");
    });

    gallery.addEventListener("mousemove", (e) => {
      if (!isDown) return;
      e.preventDefault();
      const x = e.pageX - gallery.offsetLeft;
      const walk = (x - startX) * 1.3; // citlivost
      if (Math.abs(walk) > 5) moved = true;
      gallery.scrollLeft = scrollLeft - walk;
    });

    // ---- TOUCH SUPPORT ----
    gallery.addEventListener("touchstart", (e) => {
      isDown = true;
      moved = false;
      startX = e.touches[0].pageX - gallery.offsetLeft;
      scrollLeft = gallery.scrollLeft;
    }, { passive: true });

    gallery.addEventListener("touchmove", (e) => {
      if (!isDown) return;
      const x = e.touches[0].pageX - gallery.offsetLeft;
      const walk = (x - startX) * 1.3;
      if (Math.abs(walk) > 5) moved = true;
      gallery.scrollLeft = scrollLeft - walk;
    }, { passive: true });

    gallery.addEventListener("touchend", () => {
      isDown = false;
    });

    // ---- MODAL ----
    gallery.querySelectorAll("img").forEach(img => {
      img.addEventListener("click", (e) => {
        if (moved) return; // kliknutí po posunu se ignoruje
        modal.style.display = "block";
        modalImg.src = img.src;
        caption.textContent = img.title || img.alt || "";
      });
    });
  });

  // ---- ZAVŘENÍ MODALU ----
  closeBtn.addEventListener("click", () => (modal.style.display = "none"));
  modal.addEventListener("click", (e) => {
    if (e.target === modal) modal.style.display = "none";
  });
});
</script>



</body>
</html>
